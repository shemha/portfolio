(navigator.userAgent.indexOf("iPhone") > 0 ||
  navigator.userAgent.indexOf("iPad") > 0 ||
  navigator.userAgent.indexOf("iPod") > 0 ||
  navigator.userAgent.indexOf("Android") > 0) &&
  document.querySelector("body").classList.add("is-sp"),
  -1 !== window.navigator.userAgent.toLowerCase().indexOf("mac os x") &&
    document.querySelector("body").classList.add("is-mac");
let isSafari = !1;
const agent = window.navigator.userAgent.toLowerCase();
-1 != agent.indexOf("chrome") ||
  (-1 != agent.indexOf("safari") && (isSafari = !0));
let isSP =
    navigator.userAgent.indexOf("iPhone") > 0 ||
    navigator.userAgent.indexOf("iPad") > 0 ||
    navigator.userAgent.indexOf("Android") > 0,
  isiOS =
    navigator.userAgent.indexOf("iPhone") > 0 ||
    navigator.userAgent.indexOf("iPad") > 0 ||
    navigator.userAgent.indexOf("macintosh") > 0,
  scrollPosition = 0,
  bodyFixedOn = () => {
    isiOS
      ? ((scrollPosition = window.pageYOffset),
        (document.querySelector("body").style.position = "fixed"),
        (document.querySelector("body").style.top = `-${scrollPosition}px`))
      : (document.querySelector("body").style.overflow = "hidden");
  },
  bodyFixedOff = () => {
    isiOS
      ? (document.querySelector("body").style.removeProperty("position"),
        window.scrollTo(0, scrollPosition))
      : document.querySelector("body").style.removeProperty("overflow");
  },
  decision = (e) => {
    e.classList.add("decision"),
      setTimeout(
        (e) => {
          e.classList.remove("decision");
        },
        62.5,
        e
      );
  },
  loading_src = ["./assets/img/loading.svg"],
  loading_image = [new Image()],
  loading_count = 0;
for (let e = 0; e < loading_image.length; ++e)
  (loading_image[e].onload = (e) => {
    loading_count++,
      loading_count == loading_image.length &&
        document
          .querySelector(".page-loading .loading-content")
          .classList.add("js-in");
  }),
    (loading_image[e].src = loading_src[e]);
const Scroll = class {
    constructor(e) {
      (this.objs = {}),
        (this.props = {}),
        (this.objs.scroll = document.querySelector(e.scroll)),
        (this.objs.scrollBase = document.querySelector(e.scrollBase)),
        (this.objs.scrollContainer = document.querySelector(e.scrollContainer)),
        (this.objs.scrollBar = document
          .querySelector(e.scrollBar)
          .querySelector("span")),
        (this.props.amount = this.objs.scroll.clientHeight / 10),
        (this.props.scrollBar = {
          y1: 0,
          y2: 0,
        }),
        (this.props.mouseMove = {
          is: !1,
          y: 0,
          offset: 0,
        }),
        (this.objs.scroll.scrollTop = 0);
      let s = () => {
        (this.objs.scrollBase.style.height =
          this.objs.scrollContainer.clientHeight + "px"),
          (this.props.amount = this.objs.scroll.clientHeight / 10);
        let e = this.objs.scrollBase.offsetTop;
        e < -(this.objs.scrollBase.clientHeight - this.objs.scroll.clientHeight)
          ? (this.objs.scrollBase.style.top =
              -(
                this.objs.scrollBase.clientHeight -
                this.objs.scroll.clientHeight
              ) + "px")
          : (this.objs.scrollBase.style.top = e + "px"),
          (this.objs.scrollContainer.style.top =
            this.objs.scrollBase.offsetTop + "px"),
          (this.objs.scrollBar.style.height =
            this.objs.scroll.clientHeight *
              (this.objs.scroll.clientHeight /
                this.objs.scrollBase.clientHeight) +
            "px");
      };
      window.addEventListener(
        "resize",
        () => {
          s();
        },
        !1
      ),
        window.dispatchEvent(new Event("resize"));
      let t,
        o,
        i =
          "onwheel" in document
            ? "wheel"
            : "onmousewheel" in document
            ? "mousewheel"
            : "DOMMouseScroll",
        a = 0;
      this.objs.scroll.addEventListener(i, (s) => {
        (t = s.deltaY ? -s.deltaY : s.wheelDelta ? s.wheelDelta : -s.detail),
          (o = this.objs.scrollBase.offsetTop + t),
          o <
          -(this.objs.scrollBase.clientHeight - this.objs.scroll.clientHeight)
            ? (this.objs.scrollBase.style.top =
                -(
                  this.objs.scrollBase.clientHeight -
                  this.objs.scroll.clientHeight
                ) + "px")
            : (this.objs.scrollBase.style.top = o > 0 ? "0px" : o + "px"),
          e.callback({
            type: "wheel",
          });
      });
      let n = () => {
        requestAnimationFrame(n),
          (a += 0.1 * (this.objs.scrollBase.offsetTop - a)),
          (this.objs.scrollContainer.style.top = a + "px"),
          (this.props.ratio =
            this.objs.scrollContainer.offsetTop /
            (this.objs.scrollContainer.clientHeight -
              this.objs.scroll.clientHeight)),
          (this.props.scrollBar.y2 = this.props.scrollBar.y1),
          (this.props.scrollBar.y1 =
            -(
              this.objs.scroll.clientHeight - this.objs.scrollBar.clientHeight
            ) * this.props.ratio),
          (this.objs.scrollBar.style.top = this.props.scrollBar.y1 + "px"),
          Math.abs(this.props.scrollBar.y1 - this.props.scrollBar.y2) <= 0.1
            ? this.objs.scrollBar.classList.remove("js-active")
            : this.objs.scrollBar.classList.add("js-active"),
          e.callback({
            type: "frame",
            value: this.objs.scrollBase.offsetTop,
          });
      };
      n(),
        this.objs.scrollBar.addEventListener(
          "mousedown",
          (e) => {
            (this.props.mouseMove.is = !0),
              (this.props.mouseMove.y = e.clientY),
              (this.props.mouseMove.offset = this.objs.scrollBar.offsetTop),
              this.objs.scroll.classList.add("js-dragging");
          },
          !1
        ),
        document.addEventListener(
          "mousemove",
          (e) => {
            if (this.props.mouseMove.is) {
              this.props.ratio =
                (e.clientY -
                  this.props.mouseMove.y +
                  this.props.mouseMove.offset) /
                (this.objs.scroll.clientHeight -
                  this.objs.scrollBar.clientHeight);
              let s =
                (this.objs.scroll.clientHeight -
                  this.objs.scrollBase.clientHeight) *
                this.props.ratio;
              e.clientY - this.props.mouseMove.y > 0
                ? s <
                  -(
                    this.objs.scrollBase.clientHeight -
                    this.objs.scroll.clientHeight
                  )
                  ? (this.objs.scrollBase.style.top =
                      -(
                        this.objs.scrollBase.clientHeight -
                        this.objs.scroll.clientHeight
                      ) + "px")
                  : (this.objs.scrollBase.style.top = s + "px")
                : (this.objs.scrollBase.style.top = s > 0 ? "0px" : s + "px");
            }
          },
          !1
        ),
        document.addEventListener(
          "mouseup",
          (e) => {
            this.props.mouseMove.is &&
              ((this.objs.scrollBase.style.top =
                this.objs.scroll.clientHeigh + "px"),
              (this.props.mouseMove.is = !1),
              this.objs.scroll.classList.remove("js-dragging"));
          },
          !1
        ),
        (this.anchor = (e) => {
          let s =
            document.querySelector(e).offsetTop -
            this.objs.scroll.clientHeight / 2;
          s < 0 && (s = 0), (this.objs.scrollBase.style.top = -s + "px");
        }),
        (this.move = (e) => {
          this.objs.scrollBase.style.top =
            this.objs.scrollBase.offsetTop - e + "px";
        }),
        (this.top = (e) => {
          this.objs.scrollBase.style.top = "0px";
        }),
        (this.resize = () => {
          s();
        });
    }
  },
  Render = class {
    constructor(e) {
      (this.objs = {
        object3D: new THREE.Object3D(),
        render: new THREE.Object3D(),
        ...e.objs,
      }),
        (this.props = e.props),
        (this.const = {}),
        (this.const.startdown =
          "ontouchstart" in document ? "touchstart" : "mousedown"),
        (this.const.movemove =
          "ontouchmove" in document ? "touchmove" : "mousemove"),
        (this.const.endup = "ontouchend" in document ? "touchend" : "mouseup"),
        this.objs.render.add(this.objs.object3D);
    }
    addFrame() {
      window.requestAnimationFrame(this.addFrame.bind(this)), this.frame();
    }
    addResize() {
      window.addEventListener(
        "resize",
        () => {
          this.resize();
        },
        !1
      ),
        this.resize();
    }
    addWheel() {
      let e =
        "onwheel" in document
          ? "wheel"
          : "onmousewheel" in document
          ? "mousewheel"
          : "DOMMouseScroll";
      document.addEventListener(e, (e) => {
        this.wheel({
          delta: e.deltaY ? -e.deltaY : e.wheelDelta ? e.wheelDelta : -e.detail,
        });
      });
    }
    addSwipe() {
      let e = !1,
        s = {
          x: 0,
          y: 0,
        };
      document.addEventListener(
        this.const.startdown,
        (t) => {
          (e = !0),
            "ontouchstart" in document
              ? ((s.x = t.touches[0].pageX), (s.y = t.touches[0].pageY))
              : ((s.x = t.clientX), (s.y = t.clientY));
        },
        !1
      ),
        document.addEventListener(
          this.const.movemove,
          (t) => {
            e &&
              ("ontouchmove" in document
                ? (s.x > t.touches[0].pageX + 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "left",
                    })),
                  s.x < t.touches[0].pageX - 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "right",
                    })),
                  s.y > t.touches[0].pageY + 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "up",
                    })),
                  s.y < t.touches[0].pageY - 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "down",
                    })))
                : (s.x > t.clientX + 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "left",
                    })),
                  s.x < t.clientX - 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "right",
                    })),
                  s.y > t.clientY + 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "up",
                    })),
                  s.y < t.clientY - 5 &&
                    ((e = !1),
                    this.swipe({
                      client: "down",
                    }))));
          },
          !1
        ),
        document.addEventListener(
          this.const.endup,
          (s) => {
            e = !1;
          },
          !1
        );
    }
    addDrag() {
      let e = !1,
        s = !1,
        t = {
          x: 0,
          y: 0,
        },
        o = {
          x: 0,
          y: 0,
        },
        i = {
          x: 0,
          y: 0,
        };
      document.addEventListener(
        this.const.startdown,
        (s) => {
          (e = !0),
            "ontouchstart" in document
              ? ((t.x = s.touches[0].pageX),
                (t.y = s.touches[0].pageY),
                (o.x = s.touches[0].pageX),
                (o.y = s.touches[0].pageY))
              : ((t.x = s.clientX),
                (t.y = s.clientY),
                (o.x = s.clientX),
                (o.y = s.clientY));
        },
        !1
      ),
        document.addEventListener(
          this.const.movemove,
          (a) => {
            e &&
              ("ontouchmove" in document
                ? (t.x > a.touches[0].pageX + 5 && (s = !0),
                  t.x < a.touches[0].pageX - 5 && (s = !0),
                  t.y > a.touches[0].pageY + 5 && (s = !0),
                  t.y < a.touches[0].pageY - 5 && (s = !0))
                : (t.x > a.clientX + 5 && (s = !0),
                  t.x < a.clientX - 5 && (s = !0),
                  t.y > a.clientY + 5 && (s = !0),
                  t.y < a.clientY - 5 && (s = !0))),
              s &&
                ("ontouchmove" in document
                  ? ((i.x = a.touches[0].pageX - o.x),
                    (i.y = a.touches[0].pageY - o.y),
                    (o.x = a.touches[0].pageX),
                    (o.y = a.touches[0].pageY),
                    this.drag({
                      x: i.x,
                      y: i.y,
                    }))
                  : ((i.x = a.clientX - o.x),
                    (i.y = a.clientY - o.y),
                    (o.x = a.clientX),
                    (o.y = a.clientY),
                    this.drag({
                      x: i.x,
                      y: i.y,
                    })));
          },
          !1
        ),
        document.addEventListener(
          this.const.endup,
          (t) => {
            s &&
              this.drag({
                x: 2 * i.x,
                y: 2 * i.y,
              }),
              (e = !1),
              (s = !1);
          },
          !1
        );
    }
    addGUI() {
      window.addEventListener(
        "gui",
        () => {
          this.gui();
        },
        !1
      );
    }
    get object3D() {
      return this.objs.object3D;
    }
  },
  BoxModeler = class extends Render {
    constructor(e) {
      var s;
      (super({
        objs: e,
        props: {},
      }),
      (this.props.face = this.objs.status.face),
      (this.props.side = this.objs.status.side),
      isSP)
        ? ((this.objs.face = []),
          "" == this.objs.texture.index
            ? ((this.objs.face[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                })
              )),
              (this.objs.face[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                })
              )))
            : ((this.objs.face[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                })
              )),
              (this.objs.face[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                })
              ))),
          (this.objs.texture.side.wrapS = THREE.ClampToEdgeWrapping),
          (this.objs.texture.side.wrapT = THREE.RepeatWrapping),
          (s =
            (this.props.face * this.props.side) /
            (1.5 * this.props.side * this.props.face)),
          this.objs.texture.side.repeat.set(s, 1),
          (this.objs.texture.side.offset.x = ((s - 1) / 2) * -1),
          (this.objs.side = []),
          "" == this.objs.texture.index
            ? ((this.objs.texture.side.premultiplyAlpha = !0),
              (this.objs.side[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )),
              (this.objs.side[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )),
              (this.objs.side[2] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )),
              (this.objs.side[3] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )))
            : ((this.objs.side[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              )),
              (this.objs.side[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              )),
              (this.objs.side[2] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              )),
              (this.objs.side[3] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  1.5 * this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              ))),
          (this.objs.face[0].position.y = (this.props.side / 2) * 1.5),
          (this.objs.face[0].rotation.x = (Math.PI / 180) * -90),
          (this.objs.face[0].rotation.z = (Math.PI / 180) * 180),
          "" != this.objs.texture.index &&
            ((this.objs.face[0].mouseevent = !0),
            (this.objs.face[0].index = this.objs.index)),
          (this.objs.face[0].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.face[0]),
          (this.objs.face[1].position.y = (-this.props.side / 2) * 1.5),
          (this.objs.face[1].rotation.x = (Math.PI / 180) * 90),
          "" != this.objs.texture.index &&
            ((this.objs.face[1].mouseevent = !0),
            (this.objs.face[1].index = this.objs.index)),
          (this.objs.face[1].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.face[1]),
          (this.objs.side[0].position.z = -this.props.face / 2),
          (this.objs.side[0].rotation.y = (Math.PI / 180) * 180),
          "" != this.objs.texture.index &&
            ((this.objs.side[0].mouseevent = !0),
            (this.objs.side[0].index = this.objs.index)),
          (this.objs.side[0].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[0]),
          (this.objs.side[1].position.x = this.props.face / 2),
          (this.objs.side[1].rotation.y = (Math.PI / 180) * 90),
          "" != this.objs.texture.index &&
            ((this.objs.side[1].mouseevent = !0),
            (this.objs.side[1].index = this.objs.index)),
          (this.objs.side[1].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[1]),
          (this.objs.side[2].position.z = this.props.face / 2),
          (this.objs.side[2].rotation.y = (Math.PI / 180) * 0),
          "" != this.objs.texture.index &&
            ((this.objs.side[2].mouseevent = !0),
            (this.objs.side[2].index = this.objs.index)),
          (this.objs.side[2].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[2]),
          (this.objs.side[3].position.x = -this.props.face / 2),
          (this.objs.side[3].rotation.y = (Math.PI / 180) * -90),
          "" != this.objs.texture.index &&
            ((this.objs.side[3].mouseevent = !0),
            (this.objs.side[3].index = this.objs.index)),
          (this.objs.side[3].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[3]))
        : ((this.objs.face = []),
          "" == this.objs.texture.index
            ? ((this.objs.face[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                })
              )),
              (this.objs.face[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                })
              )))
            : ((this.objs.face[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                })
              )),
              (this.objs.face[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.face,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.face,
                })
              ))),
          (this.objs.side = []),
          "" == this.objs.texture.index
            ? ((this.objs.texture.side.premultiplyAlpha = !0),
              (this.objs.side[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )),
              (this.objs.side[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )),
              (this.objs.side[2] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )),
              (this.objs.side[3] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                  transparent: !0,
                  side: THREE.DoubleSide,
                  depthWrite: !1,
                  blending: THREE.CustomBlending,
                  blendSrc: THREE.OneFactor,
                  blendDst: THREE.OneMinusSrcAlphaFactor,
                  blendEquation: THREE.AddEquation,
                })
              )))
            : ((this.objs.side[0] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              )),
              (this.objs.side[1] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              )),
              (this.objs.side[2] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              )),
              (this.objs.side[3] = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(
                  this.props.face,
                  this.props.side,
                  2,
                  2
                ),
                new THREE.MeshStandardMaterial({
                  map: this.objs.texture.side,
                })
              ))),
          (this.objs.face[0].position.y = this.props.side / 2),
          (this.objs.face[0].rotation.x = (Math.PI / 180) * -90),
          (this.objs.face[0].rotation.z = (Math.PI / 180) * 180),
          "" != this.objs.texture.index &&
            ((this.objs.face[0].mouseevent = !0),
            (this.objs.face[0].index = this.objs.index)),
          (this.objs.face[0].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.face[0]),
          (this.objs.face[1].position.y = -this.props.side / 2),
          (this.objs.face[1].rotation.x = (Math.PI / 180) * 90),
          "" != this.objs.texture.index &&
            ((this.objs.face[1].mouseevent = !0),
            (this.objs.face[1].index = this.objs.index)),
          (this.objs.face[1].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.face[1]),
          (this.objs.side[0].position.z = -this.props.face / 2),
          (this.objs.side[0].rotation.y = (Math.PI / 180) * 180),
          "" != this.objs.texture.index &&
            ((this.objs.side[0].mouseevent = !0),
            (this.objs.side[0].index = this.objs.index)),
          (this.objs.side[0].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[0]),
          (this.objs.side[1].position.x = this.props.face / 2),
          (this.objs.side[1].rotation.y = (Math.PI / 180) * 90),
          "" != this.objs.texture.index &&
            ((this.objs.side[1].mouseevent = !0),
            (this.objs.side[1].index = this.objs.index)),
          (this.objs.side[1].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[1]),
          (this.objs.side[2].position.z = this.props.face / 2),
          (this.objs.side[2].rotation.y = (Math.PI / 180) * 0),
          "" != this.objs.texture.index &&
            ((this.objs.side[2].mouseevent = !0),
            (this.objs.side[2].index = this.objs.index)),
          (this.objs.side[2].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[2]),
          (this.objs.side[3].position.x = -this.props.face / 2),
          (this.objs.side[3].rotation.y = (Math.PI / 180) * -90),
          "" != this.objs.texture.index &&
            ((this.objs.side[3].mouseevent = !0),
            (this.objs.side[3].index = this.objs.index)),
          (this.objs.side[3].click = () => {
            this.objs.callback({
              type: "click",
            });
          }),
          this.objs.object3D.add(this.objs.side[3]));
    }
    event(e) {}
  },
  FrontingStackLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.rotation = 5),
        (this.objs.modeler = new BoxModeler({
          render: this.objs.object3D,
          texture: this.objs.texture,
          status: this.objs.status,
          index: this.objs.index,
          callback: (e) => {
            "click" == e.type &&
              this.objs.callback({
                type: "click",
              });
          },
        }));
    }
    event(e) {
      "active" == e.type &&
        (e.value
          ? (TweenMax.to(this.objs.modeler.object3D.rotation, 0.5, {
              x: (Math.PI / 180) * -90,
              ease: Power3.easeOut,
            }),
            TweenMax.to(this.objs.modeler.object3D.rotation, 0.5, {
              y: this.props.rotation * (Math.PI / 180),
              ease: Power3.easeOut,
            }))
          : (TweenMax.to(this.objs.modeler.object3D.rotation, 0.5, {
              x: (Math.PI / 180) * 0,
              ease: Power3.easeOut,
            }),
            TweenMax.to(this.objs.modeler.object3D.rotation, 0.5, {
              y: (Math.PI / 180) * 0,
              ease: Power3.easeOut,
            })));
    }
  },
  RotatingStackLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.objs.fronting = new FrontingStackLayer({
          render: this.objs.object3D,
          texture: this.objs.texture,
          status: this.objs.status,
          index: this.objs.index,
          callback: (e) => {
            "click" == e.type &&
              this.objs.callback({
                type: "click",
              });
          },
        })),
        (this.props.speed = 0.6),
        (this.props.active = !1),
        this.addFrame();
    }
    frame() {
      this.props.active &&
        (this.objs.fronting.object3D.rotation.y +=
          this.props.speed * (Math.PI / 180));
    }
    event(e) {
      "active" == e.type &&
        (e.value
          ? ((this.props.active = !0),
            this.objs.fronting.event({
              type: "active",
              value: !0,
            }),
            TweenMax.to(this.objs.fronting.object3D.rotation, 0.5, {
              y: (Math.PI / 180) * 0,
              ease: Power3.easeOut,
            }))
          : ((this.props.active = !1),
            this.objs.fronting.event({
              type: "active",
              value: !1,
            }),
            TweenMax.to(this.objs.fronting.object3D.rotation, 0.5, {
              y: (Math.PI / 180) * 0,
              ease: Power3.easeOut,
            })));
    }
  },
  SeparateStackLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.face = this.objs.status.face),
        (this.objs.rotating = new RotatingStackLayer({
          render: this.objs.object3D,
          texture: this.objs.texture,
          status: this.objs.status,
          index: this.objs.index,
          callback: (e) => {
            "click" == e.type &&
              this.objs.callback({
                type: "click",
              });
          },
        }));
    }
    event(e) {
      "position" == e.type &&
        (-1 == e.value &&
          (isSP
            ? TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
                y: (this.props.face / 2) * 1.5,
                ease: Power3.easeOut,
              })
            : TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
                y: this.props.face / 2,
                ease: Power3.easeOut,
              })),
        0 == e.value &&
          TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
            y: 0,
            ease: Power3.easeOut,
          }),
        1 == e.value &&
          (isSP
            ? TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
                y: (-this.props.face / 2) * 1.5,
                ease: Power3.easeOut,
              })
            : TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
                y: -this.props.face / 2,
                ease: Power3.easeOut,
              }))),
        "active" == e.type &&
          (e.value
            ? this.objs.rotating.event({
                type: "active",
                value: !0,
              })
            : this.objs.rotating.event({
                type: "active",
                value: !1,
              }));
    }
  },
  FrontingCanvasLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.rotation = 10),
        (this.objs.modeler = new BoxModeler({
          render: this.objs.object3D,
          texture: this.objs.texture,
          status: this.objs.status,
          callback: (e) => {
            "click" == e.type &&
              this.objs.callback({
                type: "click",
              });
          },
        })),
        (this.objs.modeler.object3D.rotation.x = (Math.PI / 180) * -90),
        (this.objs.modeler.object3D.rotation.y =
          this.props.rotation * (Math.PI / 180));
    }
    event(e) {}
  },
  RotatingCanvasLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.speed = 0.15),
        (this.objs.fronting = new FrontingCanvasLayer({
          render: this.objs.object3D,
          texture: this.objs.texture,
          status: this.objs.status,
          callback: (e) => {
            "click" == e.type &&
              this.objs.callback({
                type: "click",
              });
          },
        })),
        this.addFrame();
    }
    frame() {
      this.objs.fronting.object3D.rotation.y +=
        this.props.speed * (Math.PI / 180);
    }
    event(e) {}
  },
  separateCanvasLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.face = this.objs.status.face),
        (this.objs.rotating = new RotatingCanvasLayer({
          render: this.objs.object3D,
          texture: this.objs.texture,
          status: this.objs.status,
          callback: (e) => {
            "click" == e.type &&
              this.objs.callback({
                type: "click",
              });
          },
        })),
        (this.objs.rotating.object3D.scale.x = 0),
        (this.objs.rotating.object3D.scale.y = 0);
    }
    event(e) {
      "position" == e.type &&
        (isSP
          ? (-1 == e.value &&
              (this.objs.rotating.object3D.position.y = this.props.face / 2),
            0 == e.value && (this.objs.rotating.object3D.position.y = 0))
          : (-1 == e.value &&
              TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
                y: this.props.face / 2,
                ease: Power3.easeOut,
              }),
            0 == e.value &&
              TweenMax.to(this.objs.rotating.object3D.position, 0.5, {
                y: 0,
                ease: Power3.easeOut,
              }))),
        "canvas" == e.type &&
          TweenMax.to(this.objs.rotating.object3D.scale, 1, {
            x: 1,
            y: 1,
            ease: Power4.easeOut,
          });
    }
  },
  StackLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.canvas = {
          face: 50,
          side: 3.2,
        }),
        (this.props.current = -1),
        (this.props.between = isSP ? 12.8 : 6.4),
        (this.props.speed = 5e3),
        (this.props.space = 0.05),
        (this.props.angle = 1),
        (this.props.rate = 0.05),
        (this.props.active = !1),
        (this.props.over = -1),
        (this.props.total = this.objs.status.total),
        (this.props.side = this.objs.status.side),
        (this.objs.separateCanvas = new separateCanvasLayer({
          render: this.objs.object3D,
          texture: this.objs.canvas[0],
          status: this.props.canvas,
          callback: (e) => {
            "click" == e.type &&
              (isSP ||
                (document
                  .querySelector(".page-loading")
                  .classList.remove("js-inactive"),
                setTimeout(() => {
                  window.location.href = "";
                }, 1e3)));
          },
        })),
        (this.objs.separateStack = []);
      for (let e = 0; e < this.props.total; e++)
        (this.objs.separateStack[e] = new SeparateStackLayer({
          render: this.objs.object3D,
          texture: this.objs.stack[e],
          status: this.objs.status,
          index: e,
          callback: (s) => {
            if ("click" == s.type)
              if (this.props.current == e)
                isSP ||
                  this.objs.callback({
                    type: "modal",
                    value: e,
                  });
              else {
                for (let s = 0; s < this.props.total; s++)
                  e > s &&
                    (this.objs.separateCanvas.event({
                      type: "position",
                      value: -1,
                    }),
                    this.objs.separateStack[s].event({
                      type: "position",
                      value: -1,
                    }),
                    this.objs.separateStack[s].event({
                      type: "active",
                      value: !1,
                    })),
                    e == s &&
                      (this.objs.separateCanvas.event({
                        type: "position",
                        value: 0,
                      }),
                      this.objs.separateStack[s].event({
                        type: "position",
                        value: 0,
                      }),
                      this.objs.separateStack[s].event({
                        type: "active",
                        value: !0,
                      })),
                    e < s &&
                      (this.objs.separateCanvas.event({
                        type: "position",
                        value: -1,
                      }),
                      this.objs.separateStack[s].event({
                        type: "position",
                        value: 1,
                      }),
                      this.objs.separateStack[s].event({
                        type: "active",
                        value: !1,
                      }));
                (this.props.current = e), (this.props.active = !0);
                for (let e = 0; e < this.objs.separateStack.length; e++)
                  TweenMax.to(
                    this.objs.separateStack[e].object3D.rotation,
                    0.5,
                    {
                      y: 0,
                      ease: Power3.easeOut,
                    }
                  );
                this.objs.callback({
                  type: "open",
                  value: e,
                  worldPosition: this.objs.separateStack[
                    e
                  ].object3D.getWorldPosition(new THREE.Vector3()),
                });
              }
          },
        })),
          (this.objs.separateStack[e].object3D.position.y =
            e * -this.props.between - this.props.canvas.face);
      this.addFrame(), this.addResize(), this.addWheel(), this.addDrag();
    }
    frame() {
      if (!this.props.active)
        for (let e = 0; e < this.objs.separateStack.length; e++)
          this.props.current != e &&
            this.props.over != e &&
            (this.objs.separateStack[e].object3D.rotation.y +=
              ((Math.sin(
                performance.now() / this.props.speed + e * this.props.space
              ) *
                Math.PI -
                Math.PI) *
                this.props.angle -
                this.objs.separateStack[e].object3D.rotation.y) *
              this.props.rate);
    }
    resize() {
      if (!isSP && -1 != this.props.current) {
        this.objs.separateCanvas.event({
          type: "position",
          value: 0,
        });
        for (let e = 0; e < this.props.total; e++)
          this.objs.separateStack[e].event({
            type: "position",
            value: 0,
          }),
            this.objs.separateStack[e].event({
              type: "active",
              value: !1,
            });
        this.objs.callback({
          type: "close",
          value: this.props.current,
        }),
          (this.props.current = -1),
          (this.props.active = !1);
      }
    }
    wheel(e) {
      if (
        !isSP &&
        !document
          .querySelector(".page-modal")
          .classList.contains("js-active") &&
        -1 != this.props.current
      ) {
        this.objs.separateCanvas.event({
          type: "position",
          value: 0,
        });
        for (let e = 0; e < this.props.total; e++)
          this.objs.separateStack[e].event({
            type: "position",
            value: 0,
          }),
            this.objs.separateStack[e].event({
              type: "active",
              value: !1,
            });
        this.objs.callback({
          type: "close",
          value: this.props.current,
        }),
          (this.props.current = -1),
          (this.props.active = !1);
      }
    }
    drag(e) {
      if (
        isSP &&
        !document
          .querySelector(".page-modal")
          .classList.contains("js-active") &&
        -1 != this.props.current
      ) {
        this.objs.separateCanvas.event({
          type: "position",
          value: 0,
        });
        for (let e = 0; e < this.props.total; e++)
          this.objs.separateStack[e].event({
            type: "position",
            value: 0,
          }),
            this.objs.separateStack[e].event({
              type: "active",
              value: !1,
            });
        this.objs.callback({
          type: "close",
          value: this.props.current,
        }),
          (this.props.current = -1),
          (this.props.active = !1);
      }
    }
    event(e) {
      if (
        ("mousemove" == e.type &&
          -1 == this.props.current &&
          (-1 == e.index
            ? (this.props.over = -1)
            : (this.props.over = e.index)),
        "close" == e.type)
      ) {
        this.objs.separateCanvas.event({
          type: "position",
          value: 0,
        });
        for (let e = 0; e < this.props.total; e++)
          this.objs.separateStack[e].event({
            type: "position",
            value: 0,
          }),
            this.objs.separateStack[e].event({
              type: "active",
              value: !1,
            });
        this.objs.callback({
          type: "close",
          value: this.props.current,
        }),
          (this.props.current = -1),
          (this.props.active = !1);
      }
      e.type,
        "canvas" == e.type &&
          this.objs.separateCanvas.event({
            type: "canvas",
          });
    }
  },
  BaseLayer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.stack = {
          total: 45,
          face: 50,
          side: 3.2,
        }),
        (this.props.y = 0),
        (this.props.rate = 0.1),
        (this.props.active = !1),
        (this.objs.stack = new StackLayer({
          render: this.objs.object3D,
          canvas: this.objs.canvas,
          stack: this.objs.stack,
          status: this.props.stack,
          callback: (e) => {
            "open" == e.type &&
              this.objs.callback({
                type: "open",
                value: e.value,
                worldPosition: e.worldPosition,
              }),
              "close" == e.type &&
                (window.innerWidth < 960
                  ? (this.props.y =
                      (window.innerHeight / 2) * 0.15 -
                      0.3 * window.innerWidth * 1.6)
                  : window.innerWidth < 1440
                  ? (this.props.y =
                      (window.innerHeight / 2) * 0.1 -
                      0.16 * window.innerWidth * 1.5)
                  : window.innerWidth < 1920
                  ? (this.props.y =
                      (window.innerHeight / 2) * 0.075 -
                      0.16 * window.innerWidth * 0.925)
                  : (this.props.y =
                      (window.innerHeight / 2) * 0.055 - 307.2 * 0.75),
                this.objs.callback({
                  type: "close",
                  value: e.value,
                })),
              "modal" == e.type &&
                this.objs.callback({
                  type: "modal",
                  value: e.value,
                });
          },
        })),
        (this.objs.stack.object3D.rotation.y = (Math.PI / 180) * -720),
        this.addFrame(),
        this.addResize();
    }
    frame() {
      this.objs.stack.object3D.position.y +=
        (this.props.y - this.objs.stack.object3D.position.y) * this.props.rate;
    }
    resize() {
      window.innerWidth < 960
        ? ((this.props.y =
            (window.innerHeight / 2) * 0.15 - 0.3 * window.innerWidth * 1.7),
          (document.querySelector(".container-canvas").style.height = "4355px"))
        : window.innerWidth < 1440
        ? ((this.props.y =
            (window.innerHeight / 2) * 0.1 - 0.16 * window.innerWidth * 1.5),
          (document.querySelector(".container-canvas").style.height = "3150px"))
        : window.innerWidth < 1920
        ? ((this.props.y =
            (window.innerHeight / 2) * 0.075 - 0.16 * window.innerWidth * 0.95),
          (document.querySelector(".container-canvas").style.height = "4825px"))
        : ((this.props.y = (window.innerHeight / 2) * 0.055 - 307.2 * 0.75),
          (document.querySelector(".container-canvas").style.height =
            "6100px")),
        isSP || (this.objs.stack.object3D.position.x = 0);
    }
    event(e) {
      if (
        "mousemove" == e.type &&
        ((this.objs.intersect = e.ray.intersectObjects(
          this.objs.stack.object3D.children,
          !0
        )),
        (document.body.style.cursor = "auto"),
        isSP ||
          this.objs.stack.event({
            type: "mousemove",
            index: -1,
          }),
        !document.querySelector(".page-modal").classList.contains("js-active"))
      )
        for (let e = 0; e < this.objs.intersect.length; e++)
          if (this.objs.intersect[e].object.mouseevent)
            return (document.body.style.cursor = "pointer"), !1;
      if ("click" == e.type) {
        this.objs.intersect = e.ray.intersectObjects(
          this.objs.stack.object3D.children,
          !0
        );
        for (let e = 0; e < this.objs.intersect.length; e++)
          if (this.objs.intersect[e].object.mouseevent)
            return this.objs.intersect[e].object.click(), !1;
      }
      "slide" == e.type &&
        (isSP
          ? this.objs.stack.event({
              type: "slide",
            })
          : TweenMax.to(this.objs.stack.object3D.position, 0.5, {
              x: -32,
              ease: Power1.easeOut,
            })),
        "close" == e.type &&
          (isSP ||
            TweenMax.to(this.objs.stack.object3D.position, 0.5, {
              x: 0,
              ease: Power1.easeOut,
            }),
          this.objs.stack.event({
            type: "close",
          })),
        "canvas" == e.type &&
          (this.objs.stack.event({
            type: "canvas",
          }),
          TweenMax.to(this.objs.stack.object3D.rotation, 2, {
            y: (Math.PI / 180) * 0,
            ease: Power4.easeOut,
          }));
    }
  },
  Layer = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.y = 0),
        (this.props.buff = 0),
        (this.props.rate = 0.1),
        (this.props.active = !1),
        (this.objs.base = new BaseLayer({
          render: this.objs.object3D,
          canvas: this.objs.canvas,
          stack: this.objs.stack,
          callback: (e) => {
            "open" == e.type &&
              this.objs.callback({
                type: "open",
                value: e.value,
                worldPosition: e.worldPosition,
              }),
              "close" == e.type &&
                this.objs.callback({
                  type: "close",
                  value: e.value,
                }),
              "modal" == e.type &&
                this.objs.callback({
                  type: "modal",
                  value: e.value,
                });
          },
        })),
        this.addFrame();
    }
    frame() {
      isSP
        ? (this.objs.base.object3D.position.y = this.props.y)
        : (this.objs.base.object3D.position.y +=
            (this.props.y - this.objs.base.object3D.position.y) *
            this.props.rate);
    }
    event(e) {
      "mousemove" == e.type &&
        this.objs.base.event({
          type: "mousemove",
          ray: e.ray,
        }),
        "click" == e.type &&
          this.objs.base.event({
            type: "click",
            ray: e.ray,
          }),
        "frame" == e.type &&
          (window.innerWidth < 960
            ? (this.props.y = -0.15 * e.value)
            : window.innerWidth < 1440
            ? (this.props.y = -0.12 * e.value)
            : window.innerWidth < 1920
            ? (this.props.y = -0.075 * e.value)
            : (this.props.y = -0.06 * e.value)),
        "slide" == e.type &&
          this.objs.base.event({
            type: "slide",
          }),
        "close" == e.type &&
          this.objs.base.event({
            type: "close",
          }),
        "canvas" == e.type &&
          this.objs.base.event({
            type: "canvas",
          }),
        "jenga" == e.type &&
          this.objs.base.event({
            type: "jenga",
          });
    }
  },
  Canvas = class extends Render {
    constructor(e) {
      super({
        objs: e,
        props: {},
      }),
        (this.props.count = 0),
        (this.props.cursor = {
          x: -9999,
          y: -9999,
        }),
        (this.props.current = -1),
        (this.props.canvas = [
          {
            face: "./assets/img/canvas/canvas-a.jpg",
            side: "./assets/img/canvas/canvas-b.jpg",
            index: "blank",
          },
        ]),
        (this.props.stack = [
          {
            face: "./assets/img/canvas/canvas-01.jpg",
            side: "./assets/img/canvas/canvas-02.jpg",
            index: "20221012",
          },
          {
            face: "./assets/img/canvas/canvas-03.jpg",
            side: "./assets/img/canvas/canvas-04.jpg",
            index: "20220912",
          },
          {
            face: "./assets/img/canvas/canvas-05.jpg",
            side: "./assets/img/canvas/canvas-06.jpg",
            index: "20220720",
          },
          {
            face: "./assets/img/canvas/canvas-07.jpg",
            side: "./assets/img/canvas/canvas-08.jpg",
            index: "20220525",
          },
          {
            face: "./assets/img/canvas/canvas-09.jpg",
            side: "./assets/img/canvas/canvas-10.jpg",
            index: "20220420",
          },
          {
            face: "./assets/img/canvas/canvas-11.jpg",
            side: "./assets/img/canvas/canvas-12.jpg",
            index: "20220309",
          },
          {
            face: "./assets/img/canvas/canvas-13.jpg",
            side: "./assets/img/canvas/canvas-14.jpg",
            index: "20220216",
          },
          {
            face: "./assets/img/canvas/canvas-15.jpg",
            side: "./assets/img/canvas/canvas-16.jpg",
            index: "20220119",
          },
          {
            face: "./assets/img/canvas/separate-a.png",
            side: "./assets/img/canvas/separate-b.png",
            index: "",
          },
          {
            face: "./assets/img/canvas/canvas-17.jpg",
            side: "./assets/img/canvas/canvas-18.jpg",
            index: "20211203",
          },
          {
            face: "./assets/img/canvas/canvas-19.jpg",
            side: "./assets/img/canvas/canvas-20.jpg",
            index: "20211022",
          },
          {
            face: "./assets/img/canvas/canvas-21.jpg",
            side: "./assets/img/canvas/canvas-22.jpg",
            index: "20210929",
          },
          {
            face: "./assets/img/canvas/canvas-23.jpg",
            side: "./assets/img/canvas/canvas-24.jpg",
            index: "20210928",
          },
          {
            face: "./assets/img/canvas/canvas-25.jpg",
            side: "./assets/img/canvas/canvas-26.jpg",
            index: "20210723",
          },
          {
            face: "./assets/img/canvas/canvas-27.jpg",
            side: "./assets/img/canvas/canvas-28.jpg",
            index: "20210317",
          },
          {
            face: "./assets/img/canvas/canvas-29.jpg",
            side: "./assets/img/canvas/canvas-30.jpg",
            index: "20210127",
          },
          {
            face: "./assets/img/canvas/separate-a.png",
            side: "./assets/img/canvas/separate-b.png",
            index: "",
          },
          {
            face: "./assets/img/canvas/canvas-31.jpg",
            side: "./assets/img/canvas/canvas-32.jpg",
            index: "20201218",
          },
          {
            face: "./assets/img/canvas/canvas-33.jpg",
            side: "./assets/img/canvas/canvas-34.jpg",
            index: "20200930",
          },
          {
            face: "./assets/img/canvas/canvas-35.jpg",
            side: "./assets/img/canvas/canvas-36.jpg",
            index: "20200722",
          },
          {
            face: "./assets/img/canvas/canvas-37.jpg",
            side: "./assets/img/canvas/canvas-38.jpg",
            index: "20200630",
          },
          {
            face: "./assets/img/canvas/canvas-39.jpg",
            side: "./assets/img/canvas/canvas-40.jpg",
            index: "20200527",
          },
          {
            face: "./assets/img/canvas/canvas-41.jpg",
            side: "./assets/img/canvas/canvas-42.jpg",
            index: "20200325",
          },
          {
            face: "./assets/img/canvas/canvas-43.jpg",
            side: "./assets/img/canvas/canvas-44.jpg",
            index: "20200212",
          },
          {
            face: "./assets/img/canvas/separate-a.png",
            side: "./assets/img/canvas/separate-b.png",
            index: "",
          },
          {
            face: "./assets/img/canvas/canvas-45.jpg",
            side: "./assets/img/canvas/canvas-46.jpg",
            index: "20191122",
          },
          {
            face: "./assets/img/canvas/canvas-47.jpg",
            side: "./assets/img/canvas/canvas-48.jpg",
            index: "20190920",
          },
          {
            face: "./assets/img/canvas/canvas-49.jpg",
            side: "./assets/img/canvas/canvas-50.jpg",
            index: "20190626",
          },
          {
            face: "./assets/img/canvas/canvas-51.jpg",
            side: "./assets/img/canvas/canvas-52.jpg",
            index: "20190529",
          },
          {
            face: "./assets/img/canvas/canvas-53.jpg",
            side: "./assets/img/canvas/canvas-54.jpg",
            index: "20190410",
          },
          {
            face: "./assets/img/canvas/canvas-55.jpg",
            side: "./assets/img/canvas/canvas-56.jpg",
            index: "20190313",
          },
          {
            face: "./assets/img/canvas/canvas-57.jpg",
            side: "./assets/img/canvas/canvas-58.jpg",
            index: "20190306",
          },
          {
            face: "./assets/img/canvas/canvas-59.jpg",
            side: "./assets/img/canvas/canvas-60.jpg",
            index: "20190227",
          },
          {
            face: "./assets/img/canvas/canvas-61.jpg",
            side: "./assets/img/canvas/canvas-62.jpg",
            index: "20190126",
          },
          {
            face: "./assets/img/canvas/canvas-63.jpg",
            side: "./assets/img/canvas/canvas-64.jpg",
            index: "20190109",
          },
          {
            face: "./assets/img/canvas/separate-a.png",
            side: "./assets/img/canvas/separate-b.png",
            index: "",
          },
          {
            face: "./assets/img/canvas/canvas-65.jpg",
            side: "./assets/img/canvas/canvas-66.jpg",
            index: "20181116",
          },
          {
            face: "./assets/img/canvas/canvas-67.jpg",
            side: "./assets/img/canvas/canvas-68.jpg",
            index: "20180831",
          },
          {
            face: "./assets/img/canvas/canvas-69.jpg",
            side: "./assets/img/canvas/canvas-70.jpg",
            index: "20180801",
          },
          {
            face: "./assets/img/canvas/canvas-71.jpg",
            side: "./assets/img/canvas/canvas-72.jpg",
            index: "20180718",
          },
          {
            face: "./assets/img/canvas/canvas-73.jpg",
            side: "./assets/img/canvas/canvas-74.jpg",
            index: "20180701",
          },
          {
            face: "./assets/img/canvas/canvas-75.jpg",
            side: "./assets/img/canvas/canvas-76.jpg",
            index: "20180516",
          },
          {
            face: "./assets/img/canvas/separate-a.png",
            side: "./assets/img/canvas/separate-b.png",
            index: "",
          },
          {
            face: "./assets/img/canvas/canvas-77.jpg",
            side: "./assets/img/canvas/canvas-78.jpg",
            index: "20171101",
          },
          {
            face: "./assets/img/canvas/canvas-79.jpg",
            side: "./assets/img/canvas/canvas-80.jpg",
            index: "20170927",
          },
        ]),
        (this.props.audio = [
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
          "./assets/audio/sample.mp3",
        ]),
        (this.objs.selector = document.querySelector(".page-canvas")),
        (this.objs.canvas = document.querySelector("canvas")),
        (this.objs.canvas = []),
        (this.objs.stack = []),
        (this.objs.audio = []);
    }
    frame() {
      if (
        (this.objs.renderer.render(this.objs.scene, this.objs.camera), !isSP)
      ) {
        let e = (e) => {
            let s = 0,
              t = 0;
            do {
              (s += e.offsetTop || 0),
                (t += e.offsetLeft || 0),
                (e = e.offsetParent);
            } while (e);
            return {
              top: s,
              left: t,
            };
          },
          s = new THREE.Vector3(
            ((this.props.cursor.x - e(this.objs.renderer.domElement).left) /
              this.objs.selector.clientWidth) *
              2 -
              1,
            (-(this.props.cursor.y - e(this.objs.renderer.domElement).top) /
              this.objs.selector.clientHeight) *
              2 +
              1,
            1
          );
        s.unproject(this.objs.camera);
        let t = new THREE.Raycaster(
          this.objs.camera.position,
          s.sub(this.objs.camera.position).normalize()
        );
        this.objs.layer.event({
          type: "mousemove",
          ray: t,
        });
      }
    }
    resize() {
      window.innerWidth < 960
        ? (this.objs.camera.position.z = 240)
        : window.innerWidth < 1440
        ? (this.objs.camera.position.z = 160)
        : window.innerWidth < 1920
        ? (this.objs.camera.position.z = 120)
        : (this.objs.camera.position.z = 90),
        (this.objs.camera.aspect =
          this.objs.selector.clientWidth / this.objs.selector.clientHeight),
        this.objs.camera.updateProjectionMatrix(),
        this.objs.renderer.setSize(
          this.objs.selector.clientWidth,
          this.objs.selector.clientHeight
        );
    }
    wheel(e) {}
    swipe(e) {}
    drag(e) {}
    event(e) {
      if ("load" == e.type) {
        for (let e = 0; e < this.props.canvas.length; e++)
          (this.objs.canvas[e] = {}),
            (this.objs.canvas[e].face = new THREE.TextureLoader().load(
              this.props.canvas[e].face,
              () => {
                this.props.count++,
                  this.props.count ==
                    2 * this.props.canvas.length +
                      2 * this.props.stack.length &&
                    setTimeout(() => {
                      this.objs.callback({
                        type: "loaded",
                      });
                    }, 500);
              }
            )),
            (this.objs.canvas[e].side = new THREE.TextureLoader().load(
              this.props.canvas[e].side,
              () => {
                this.props.count++,
                  this.props.count ==
                    2 * this.props.canvas.length +
                      2 * this.props.stack.length &&
                    setTimeout(() => {
                      this.objs.callback({
                        type: "loaded",
                      });
                    }, 500);
              }
            )),
            (this.objs.canvas[e].index = this.props.canvas[e].index);
        for (let e = 0; e < this.props.stack.length; e++)
          (this.objs.stack[e] = {}),
            (this.objs.stack[e].face = new THREE.TextureLoader().load(
              this.props.stack[e].face,
              () => {
                this.props.count++,
                  this.props.count ==
                    2 * this.props.canvas.length +
                      2 * this.props.stack.length &&
                    setTimeout(() => {
                      this.objs.callback({
                        type: "loaded",
                      });
                    }, 500);
              }
            )),
            (this.objs.stack[e].side = new THREE.TextureLoader().load(
              this.props.stack[e].side,
              () => {
                this.props.count++,
                  this.props.count ==
                    2 * this.props.canvas.length +
                      2 * this.props.stack.length &&
                    setTimeout(() => {
                      this.objs.callback({
                        type: "loaded",
                      });
                    }, 500);
              }
            )),
            (this.objs.stack[e].index = this.props.stack[e].index);
      }
      if ("build" == e.type) {
        (this.objs.scene = new THREE.Scene()),
          (this.objs.camera = new THREE.PerspectiveCamera(
            50,
            this.objs.selector.clientWidth / this.objs.selector.clientHeight,
            0.1,
            1e3
          )),
          (this.objs.ambientLight = new THREE.AmbientLight(15790330, 0.75)),
          this.objs.scene.add(this.objs.ambientLight),
          (this.objs.spotLight = new THREE.SpotLight(
            15790330,
            1.125,
            105,
            (Math.PI / 180) * 50,
            0,
            1
          )),
          (this.objs.spotLight.position.z = 80),
          this.objs.scene.add(this.objs.spotLight),
          (this.objs.renderer = new THREE.WebGLRenderer({
            antialias: !0,
            alpha: !0,
          })),
          this.objs.renderer.setClearColor(0, 0),
          this.objs.renderer.setSize(
            this.objs.selector.clientWidth,
            this.objs.selector.clientHeight
          ),
          this.objs.selector.appendChild(this.objs.renderer.domElement);
        let e = "ontouchstart" in document ? "touchstart" : "mousedown",
          s = "ontouchmove" in document ? "touchmove" : "mousemove",
          t = "ontouchend" in document ? "touchend" : "mouseup",
          o =
            (document,
            {
              x: 0,
              y: 0,
            }),
          i = !1;
        document.querySelector(".page-scroll").addEventListener(
          e,
          (e) => {
            (i = !1),
              "ontouchstart" in document
                ? ((this.props.cursor.x = e.touches[0].clientX),
                  (this.props.cursor.y = e.touches[0].clientY),
                  (o.x = this.props.cursor.x),
                  (o.y = this.props.cursor.y))
                : ((this.props.cursor.x = e.clientX),
                  (this.props.cursor.y = e.clientY),
                  (o.x = this.props.cursor.x),
                  (o.y = this.props.cursor.y));
          },
          !1
        ),
          document.querySelector(".page-scroll").addEventListener(
            s,
            (e) => {
              "ontouchmove" in document
                ? ((this.props.cursor.x = e.touches[0].clientX),
                  (this.props.cursor.y = e.touches[0].clientY),
                  o.x > this.props.cursor.x + 5 && (i = !0),
                  o.x < this.props.cursor.x - 5 && (i = !0),
                  o.y > this.props.cursor.y + 5 && (i = !0),
                  o.y < this.props.cursor.y - 5 && (i = !0))
                : ((this.props.cursor.x = e.clientX),
                  (this.props.cursor.y = e.clientY),
                  o.x > this.props.cursor.x + 5 && (i = !0),
                  o.x < this.props.cursor.x - 5 && (i = !0),
                  o.y > this.props.cursor.y + 5 && (i = !0),
                  o.y < this.props.cursor.y - 5 && (i = !0));
            },
            !1
          ),
          document.querySelector(".page-scroll").addEventListener(
            t,
            (e) => {
              let s = (e) => {
                  let s = 0,
                    t = 0;
                  do {
                    (s += e.offsetTop || 0),
                      (t += e.offsetLeft || 0),
                      (e = e.offsetParent);
                  } while (e);
                  return {
                    top: s,
                    left: t,
                  };
                },
                t = new THREE.Vector3(
                  ((this.props.cursor.x -
                    s(this.objs.renderer.domElement).left) /
                    this.objs.selector.clientWidth) *
                    2 -
                    1,
                  (-(
                    this.props.cursor.y - s(this.objs.renderer.domElement).top
                  ) /
                    this.objs.selector.clientHeight) *
                    2 +
                    1,
                  1
                );
              t.unproject(this.objs.camera);
              let o = new THREE.Raycaster(
                this.objs.camera.position,
                t.sub(this.objs.camera.position).normalize()
              );
              i ||
                this.objs.layer.event({
                  type: "click",
                  ray: o,
                });
            },
            !1
          ),
          (this.objs.layer = new Layer({
            render: this.objs.scene,
            canvas: this.objs.canvas,
            stack: this.objs.stack,
            callback: (e) => {
              if ("open" == e.type) {
                (document.querySelector(".vanta-front").className =
                  "vanta-front"),
                  (document.querySelector(".page-ticker").className =
                    "page-ticker"),
                  document
                    .querySelector(
                      ".container-canvas .canvas-back .back-ticker"
                    )
                    .classList.remove("js-active"),
                  document
                    .querySelector(".page-canvas")
                    .classList.add("js-inactive"),
                  -1 != this.props.current &&
                    this.objs.audio[this.props.current] &&
                    this.objs.audio[this.props.current].pause(),
                  document
                    .querySelector(".vanta-front")
                    .classList.add("js-" + this.props.stack[e.value].index),
                  document
                    .querySelector(".vanta-front")
                    .classList.add("js-active"),
                  document
                    .querySelector(".page-ticker")
                    .classList.add("js-" + this.props.stack[e.value].index),
                  document
                    .querySelector(".page-ticker")
                    .classList.add("js-active"),
                  document
                    .querySelector(".page-open")
                    .classList.add("js-active"),
                  setTimeout(() => {
                    this.objs.audio[e.value]
                      ? this.objs.audio[e.value].play()
                      : ((this.objs.audio[e.value] = new Audio(
                          this.props.audio[e.value]
                        )),
                        (this.objs.audio[e.value].loop = !0),
                        this.objs.audio[e.value].play(),
                        document
                          .querySelector(".page-sound button")
                          .classList.contains("js-active")
                          ? (this.objs.audio[e.value].muted = !1)
                          : (this.objs.audio[e.value].muted = !0));
                  }, 500),
                  (this.props.current = e.value);
                let s = e.worldPosition.project(this.objs.camera);
                isSP
                  ? TweenMax.to(document.scrollingElement, 1, {
                      scrollTop:
                        document.scrollingElement.scrollTop +
                        Math.floor(
                          (this.objs.selector.clientHeight / 2) * -s.y
                        ),
                      ease: "Power3.easeOut",
                    })
                  : this.objs.pageScroll.move(
                      Math.floor(
                        (this.objs.selector.clientHeight / 2) * (-0.9 * s.y)
                      )
                    );
              }
              "close" == e.type &&
                ((document.querySelector(".vanta-front").className =
                  "vanta-front"),
                (document.querySelector(".page-ticker").className =
                  "page-ticker"),
                document
                  .querySelector(".container-canvas .canvas-back .back-ticker")
                  .classList.add("js-active"),
                document
                  .querySelector(".page-canvas")
                  .classList.remove("js-inactive"),
                document
                  .querySelector(".page-open")
                  .classList.remove("js-active"),
                document
                  .querySelector(".page-playlist")
                  .classList.remove("js-active"),
                document
                  .querySelector(".page-modal")
                  .classList.remove("js-active"),
                setTimeout(() => {
                  for (
                    var e = 0;
                    e <
                    document.querySelectorAll(
                      ".page-modal .modal-box .box-scroll .scroll-container .container-content"
                    ).length;
                    e++
                  )
                    document
                      .querySelectorAll(
                        ".page-modal .modal-box .box-scroll .scroll-container .container-content"
                      )
                      [e].classList.remove("js-active"),
                      document
                        .querySelectorAll(
                          ".page-modal .modal-box .box-scroll .scroll-container .container-content"
                        )
                        [e].querySelector(".content-title h2")
                        .classList.remove("js-active");
                }, 1e3),
                this.objs.audio[this.props.current] &&
                  this.objs.audio[this.props.current].pause(),
                (this.props.current = -1)),
                "modal" == e.type &&
                  (document
                    .querySelector(
                      ".page-modal .modal-box .box-scroll .scroll-container .container-content--" +
                        this.objs.stack[this.props.current].index
                    )
                    .classList.add("js-active"),
                  setTimeout(() => {
                    document
                      .querySelector(
                        ".page-modal .modal-box .box-scroll .scroll-container .container-content--" +
                          this.objs.stack[this.props.current].index +
                          " .content-title h2"
                      )
                      .classList.add("js-active"),
                      document
                        .querySelector(".page-modal")
                        .classList.add("js-active"),
                      isSP || this.objs.modalScroll.resize(),
                      isSP || this.objs.modalScroll.top();
                  }, 0),
                  document
                    .querySelector(".page-open")
                    .classList.remove("js-active"),
                  this.objs.layer.event({
                    type: "slide",
                  }),
                  document
                    .querySelector(".page-toggle")
                    .classList.add("js-inactive"));
            },
          })),
          document
            .querySelector(
              ".container-header .header-section .section-button button"
            )
            .addEventListener("click", (e) => {
              e.preventDefault(),
                document
                  .querySelector(".page-playlist")
                  .classList.add("js-active"),
                isSP || this.objs.playlistScroll.resize(),
                isSP && bodyFixedOn(),
                isSP && decision(e.currentTarget);
            }),
          document
            .querySelector(".page-playlist .playlist-box .box-close button")
            .addEventListener("click", (e) => {
              e.preventDefault(),
                document
                  .querySelector(".page-playlist")
                  .classList.remove("js-active"),
                isSP && bodyFixedOff();
            }),
          document
            .querySelector(".page-open button")
            .addEventListener("click", (e) => {
              e.preventDefault(),
                document
                  .querySelector(
                    ".page-modal .modal-box .box-scroll .scroll-container .container-content--" +
                      this.objs.stack[this.props.current].index
                  )
                  .classList.add("js-active"),
                setTimeout(() => {
                  document
                    .querySelector(
                      ".page-modal .modal-box .box-scroll .scroll-container .container-content--" +
                        this.objs.stack[this.props.current].index +
                        " .content-title h2"
                    )
                    .classList.add("js-active"),
                    document
                      .querySelector(".page-modal")
                      .classList.add("js-active"),
                    isSP || this.objs.modalScroll.resize(),
                    isSP || this.objs.modalScroll.top();
                }, 0),
                document
                  .querySelector(".page-open")
                  .classList.remove("js-active"),
                this.objs.layer.event({
                  type: "slide",
                }),
                document
                  .querySelector(".page-toggle")
                  .classList.add("js-inactive"),
                isSP && bodyFixedOn(),
                isSP && decision(e.currentTarget);
            }),
          document
            .querySelector(".page-modal .modal-box .box-close button")
            .addEventListener("click", (e) => {
              e.preventDefault(),
                document
                  .querySelector(".page-toggle")
                  .classList.remove("js-inactive"),
                this.objs.layer.event({
                  type: "close",
                }),
                isSP && bodyFixedOff();
            }),
          document
            .querySelector(".page-sound button")
            .classList.add("js-active"),
          document
            .querySelector(".page-sound button")
            .addEventListener("click", (e) => {
              if (
                (e.preventDefault(),
                document
                  .querySelector(".page-sound button")
                  .classList.contains("js-active"))
              ) {
                for (let e = 0; e < this.objs.audio.length; e++)
                  this.objs.audio[e] && (this.objs.audio[e].muted = !0);
                document
                  .querySelector(".page-sound button")
                  .classList.remove("js-active");
              } else {
                for (let e = 0; e < this.objs.audio.length; e++)
                  this.objs.audio[e] && (this.objs.audio[e].muted = !1);
                document
                  .querySelector(".page-sound button")
                  .classList.add("js-active");
              }
            }),
          document.addEventListener(
            "visibilitychange",
            (e) => {
              if ("hidden" == document.visibilityState)
                for (let e = 0; e < this.objs.audio.length; e++)
                  this.objs.audio[e] && (this.objs.audio[e].muted = !0);
              if (
                "visible" == document.visibilityState &&
                document
                  .querySelector(".page-sound button")
                  .classList.contains("js-active")
              )
                for (let e = 0; e < this.objs.audio.length; e++)
                  this.objs.audio[e] && (this.objs.audio[e].muted = !1);
            },
            !1
          );
        let a = 0,
          n = new IntersectionObserver(
            (e, s) => {
              e.forEach((e) => {
                e.isIntersecting &&
                  (setTimeout(() => {
                    e.target
                      .querySelector("[data-lazy]")
                      .classList.add("js-lazied");
                  }, 50 * a),
                  a++);
              });
            },
            {
              root: null,
              rootMargin: "0px 0px 0px 0px",
              threshold: 1,
            }
          );
        setTimeout(() => {
          for (
            var e = 0;
            e < document.querySelectorAll("[data-observe]").length;
            e++
          )
            n.observe(document.querySelectorAll("[data-observe]")[e]);
        }, 1e3);
        let r = new IntersectionObserver(
          (e, s) => {
            e.forEach((e) => {
              e.isIntersecting &&
                (e.target.classList.contains("js-lazied") ||
                  (e.target.classList.add("js-lazied"),
                  this.objs.layer.event({
                    type: "canvas",
                  }),
                  document
                    .querySelector(
                      ".container-canvas .canvas-back .back-ticker"
                    )
                    .classList.add("js-active")));
            });
          },
          {
            root: null,
            rootMargin: "0px 0px 0px 0px",
            threshold: 1,
          }
        );
        setTimeout(() => {
          r.observe(document.querySelector("[data-ticker]"));
        }, 1e3);
        let c = new IntersectionObserver(
          (e, s) => {
            e.forEach((e) => {
              e.isIntersecting
                ? document
                    .querySelector(".page-vanta .vanta-middle")
                    .classList.add("js-active")
                : document
                    .querySelector(".page-vanta .vanta-middle")
                    .classList.remove("js-active");
            });
          },
          {
            root: null,
            rootMargin: isSP ? "-75% 0px -25% 0px" : "-25% 0px -25% 0px",
          }
        );
        if (
          (setTimeout(() => {
            c.observe(document.querySelector("[data-ticker]"));
          }, 1e3),
          isSP)
        ) {
          window.addEventListener("touchmove", function () {
            a = 0;
          }),
            (this.objs.scrollContainer = document.querySelector(
              "[data-scroll-container]"
            ));
          let e = () => {
            requestAnimationFrame(e),
              this.objs.layer.event({
                type: "frame",
                value: this.objs.scrollContainer.getBoundingClientRect().top,
              });
          };
          e();
          for (
            let e = 0;
            e < document.querySelectorAll(".page-nav a[data-anchor]").length;
            e++
          )
            document
              .querySelectorAll(".page-nav a[data-anchor]")
              [e].addEventListener(
                "click",
                (e) => {
                  e.preventDefault(),
                    setTimeout(
                      (e) => {
                        TweenMax.to(document.scrollingElement, 1, {
                          scrollTop:
                            document.querySelector(e.getAttribute("href"))
                              .offsetTop -
                            window.innerHeight / 2,
                          ease: "Power3.easeOut",
                        }),
                          document
                            .querySelector(".page-toggle button")
                            .classList.remove("js-active"),
                          document
                            .querySelector(".page-nav")
                            .classList.remove("js-active");
                      },
                      125,
                      e.currentTarget
                    ),
                    isSP && decision(e.currentTarget);
                },
                !1
              );
        } else {
          (this.objs.pageScroll = new Scroll({
            scroll: '[data-scroll="page"]',
            scrollBase: '[data-scroll-base="page"]',
            scrollContainer: '[data-scroll-container="page"]',
            scrollBar: '[data-scroll-bar="page"]',
            callback: (e) => {
              if ("frame" == e.type) {
                e.value < 0
                  ? document
                      .querySelector(".page-arrow")
                      .classList.add("js-inactive")
                  : document
                      .querySelector(".page-arrow")
                      .classList.remove("js-inactive"),
                  this.objs.layer.event({
                    type: "frame",
                    value: e.value,
                  });
                for (
                  let e = 0;
                  e < document.querySelectorAll("[data-parallax]").length;
                  e++
                ) {
                  let s = document
                      .querySelectorAll("[data-parallax]")
                      [e].getAttribute("data-parallax"),
                    t =
                      (document
                        .querySelectorAll("[data-parallax]")
                        [e].parentNode.getBoundingClientRect().top +
                        document
                          .querySelectorAll("[data-parallax]")
                          [e].parentNode.getBoundingClientRect().height /
                          2) /
                        window.innerHeight -
                      0.5,
                    o = window.innerHeight * s * t;
                  document.querySelectorAll("[data-parallax]")[
                    e
                  ].style.transform = `translate3d(0, ${o}px, 0)`;
                }
              }
              "wheel" == e.type && (a = 0);
            },
          })),
            (this.objs.playlistScroll = new Scroll({
              scroll: '[data-scroll="playlist"]',
              scrollBase: '[data-scroll-base="playlist"]',
              scrollContainer: '[data-scroll-container="playlist"]',
              scrollBar: '[data-scroll-bar="playlist"]',
              callback: (e) => {},
            })),
            (this.objs.modalScroll = new Scroll({
              scroll: '[data-scroll="modal"]',
              scrollBase: '[data-scroll-base="modal"]',
              scrollContainer: '[data-scroll-container="modal"]',
              scrollBar: '[data-scroll-bar="modal"]',
              callback: (e) => {},
            }));
          for (
            let e = 0;
            e < document.querySelectorAll(".page-nav a[data-anchor]").length;
            e++
          )
            document
              .querySelectorAll(".page-nav a[data-anchor]")
              [e].addEventListener(
                "click",
                (e) => {
                  e.preventDefault(),
                    this.objs.pageScroll.anchor(
                      e.currentTarget.getAttribute("href")
                    ),
                    document
                      .querySelector(".page-toggle button")
                      .classList.remove("js-active"),
                    document
                      .querySelector(".page-nav")
                      .classList.remove("js-active");
                },
                !1
              );
          document.addEventListener(
            "mousemove",
            (e) => {
              e.preventDefault(),
                (document.querySelector(".page-pointer p").style.transform =
                  "translate(" + e.clientX + "px, " + e.clientY + "px)");
            },
            !1
          ),
            document.querySelector(".modal-close").addEventListener(
              "mouseover",
              (e) => {
                e.preventDefault(),
                  document
                    .querySelector(".page-pointer")
                    .classList.add("js-active");
              },
              !1
            ),
            document.querySelector(".modal-close").addEventListener(
              "mouseout",
              (e) => {
                e.preventDefault(),
                  document
                    .querySelector(".page-pointer")
                    .classList.remove("js-active");
              },
              !1
            ),
            document.querySelector(".modal-close").addEventListener(
              "click",
              (e) => {
                e.preventDefault(),
                  document
                    .querySelector(".page-pointer")
                    .classList.remove("js-active"),
                  document
                    .querySelector(".page-toggle")
                    .classList.remove("js-inactive"),
                  this.objs.layer.event({
                    type: "close",
                  });
              },
              !1
            ),
            document.querySelector(".playlist-close").addEventListener(
              "mouseover",
              (e) => {
                e.preventDefault(),
                  document
                    .querySelector(".page-pointer")
                    .classList.add("js-active");
              },
              !1
            ),
            document.querySelector(".playlist-close").addEventListener(
              "mouseout",
              (e) => {
                e.preventDefault(),
                  document
                    .querySelector(".page-pointer")
                    .classList.remove("js-active");
              },
              !1
            ),
            document.querySelector(".playlist-close").addEventListener(
              "click",
              (e) => {
                e.preventDefault(),
                  document
                    .querySelector(".page-pointer")
                    .classList.remove("js-active"),
                  document
                    .querySelector(".page-toggle")
                    .classList.remove("js-inactive"),
                  this.objs.layer.event({
                    type: "close",
                  });
              },
              !1
            );
        }
        for (
          let e = 0;
          e < document.querySelectorAll("a[data-transition]").length;
          e++
        )
          document.querySelectorAll("a[data-transition]")[e].addEventListener(
            "click",
            (e) => {
              e.preventDefault(),
                document
                  .querySelector(".page-loading")
                  .classList.remove("js-inactive"),
                setTimeout(
                  (e) => {
                    window.location.href = e.href;
                  },
                  1e3,
                  e.currentTarget
                ),
                isSP && decision(e.currentTarget);
            },
            !1
          );
        this.addFrame(),
          this.addResize(),
          this.objs.callback({
            type: "builded",
          });
      }
      "anchor" == e.type && this.objs.pageScroll.anchor(location.hash);
    }
    gui() {}
  };
window.addEventListener(
  "load",
  () => {
    if (
      ((function (e, s, t) {
        function o(e, s) {
          return typeof e === s;
        }
        function i(e) {
          var s = p.className,
            t = l._config.classPrefix || "";
          if ((h && (s = s.baseVal), l._config.enableJSClass)) {
            var o = new RegExp("(^|\\s)" + t + "no-js(\\s|$)");
            s = s.replace(o, "$1" + t + "js$2");
          }
          l._config.enableClasses &&
            ((s += " " + t + e.join(" " + t)),
            h ? (p.className.baseVal = s) : (p.className = s.trim()));
        }
        function a(e, s) {
          if ("object" == typeof e) for (var t in e) d(e, t) && a(t, e[t]);
          else {
            var o = (e = e.toLowerCase()).split("."),
              n = l[o[0]];
            if ((2 == o.length && (n = n[o[1]]), void 0 !== n)) return l;
            (s = "function" == typeof s ? s() : s),
              1 == o.length
                ? (l[o[0]] = s)
                : (!l[o[0]] ||
                    l[o[0]] instanceof Boolean ||
                    (l[o[0]] = new Boolean(l[o[0]])),
                  (l[o[0]][o[1]] = s)),
              i([(s && 0 != s ? "" : "no-") + o.join("-")]),
              l._trigger(e, s);
          }
          return l;
        }
        var n = [],
          r = [],
          c = {
            _version: "3.6.0",
            _config: {
              classPrefix: "",
              enableClasses: !0,
              enableJSClass: !0,
              usePrefixes: !0,
            },
            _q: [],
            on: function (e, s) {
              var t = this;
              setTimeout(function () {
                s(t[e]);
              }, 0);
            },
            addTest: function (e, s, t) {
              r.push({
                name: e,
                fn: s,
                options: t,
              });
            },
            addAsyncTest: function (e) {
              r.push({
                name: null,
                fn: e,
              });
            },
          },
          l = function () {};
        (l.prototype = c), (l = new l());
        var d,
          p = s.documentElement,
          h = "svg" === p.nodeName.toLowerCase();
        !(function () {
          var e = {}.hasOwnProperty;
          d =
            o(e, "undefined") || o(e.call, "undefined")
              ? function (e, s) {
                  return s in e && o(e.constructor.prototype[s], "undefined");
                }
              : function (s, t) {
                  return e.call(s, t);
                };
        })(),
          (c._l = {}),
          (c.on = function (e, s) {
            this._l[e] || (this._l[e] = []),
              this._l[e].push(s),
              l.hasOwnProperty(e) &&
                setTimeout(function () {
                  l._trigger(e, l[e]);
                }, 0);
          }),
          (c._trigger = function (e, s) {
            if (this._l[e]) {
              var t = this._l[e];
              setTimeout(function () {
                var e;
                for (e = 0; e < t.length; e++) (0, t[e])(s);
              }, 0),
                delete this._l[e];
            }
          }),
          l._q.push(function () {
            c.addTest = a;
          }),
          l.addAsyncTest(function () {
            function e(e, s, t) {
              function o(s) {
                var o = !(!s || "load" !== s.type) && 1 == i.width;
                a(e, "webp" === e && o ? new Boolean(o) : o), t && t(s);
              }
              var i = new Image();
              (i.onerror = o), (i.onload = o), (i.src = s);
            }
            var s = [
                {
                  uri: "data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",
                  name: "webp",
                },
              ],
              t = s.shift();
            e(t.name, t.uri, function (t) {
              if (t && "load" === t.type)
                for (var o = 0; o < s.length; o++) e(s[o].name, s[o].uri);
            });
          }),
          (function () {
            var e, s, t, i, a, c;
            for (var d in r)
              if (r.hasOwnProperty(d)) {
                if (
                  ((e = []),
                  (s = r[d]).name &&
                    (e.push(s.name.toLowerCase()),
                    s.options && s.options.aliases && s.options.aliases.length))
                )
                  for (t = 0; t < s.options.aliases.length; t++)
                    e.push(s.options.aliases[t].toLowerCase());
                for (
                  i = o(s.fn, "function") ? s.fn() : s.fn, a = 0;
                  a < e.length;
                  a++
                )
                  1 === (c = e[a].split(".")).length
                    ? (l[c[0]] = i)
                    : (!l[c[0]] ||
                        l[c[0]] instanceof Boolean ||
                        (l[c[0]] = new Boolean(l[c[0]])),
                      (l[c[0]][c[1]] = i)),
                    n.push((i ? "" : "no-") + c.join("-"));
              }
          })(),
          i(n),
          delete c.addTest,
          delete c.addAsyncTest;
        for (var u = 0; u < l._q.length; u++) l._q[u]();
        e.Modernizr = l;
      })(window, document),
      document
        .querySelector(".page-toggle button")
        .addEventListener("click", (e) => {
          e.preventDefault(),
            document
              .querySelector(".page-toggle button")
              .classList.contains("js-active")
              ? (document
                  .querySelector(".page-toggle button")
                  .classList.remove("js-active"),
                document
                  .querySelector(".page-nav")
                  .classList.remove("js-active"))
              : (document
                  .querySelector(".page-toggle button")
                  .classList.add("js-active"),
                document.querySelector(".page-nav").classList.add("js-active"));
        }),
      isSP)
    )
      document.scrollingElement.scrollTop = 0;
    else {
      document
        .querySelector(".front-artist a")
        .addEventListener("mouseenter", (e) => {
          document
            .querySelector(".section-separate")
            .classList.add("js-active"),
            document
              .querySelector(".front-artist a")
              .classList.add("js-active");
        }),
        document
          .querySelector(".front-artist a")
          .addEventListener("mouseleave", (e) => {
            document
              .querySelector(".section-separate")
              .classList.remove("js-active"),
              document
                .querySelector(".front-artist a")
                .classList.remove("js-active");
          });
      let e = 0,
        s = () => {
          requestAnimationFrame(s),
            e++,
            e % 5 != 0 &&
              ((document.querySelector(".page-rumble").style.top =
                50 * Math.random() - 100 + "px"),
              (document.querySelector(".page-rumble").style.left =
                50 * Math.random() - 100 + "px"));
        };
      s();
    }
    if (document.querySelector(".page").classList.contains("page--5th")) {
      if (!isSP && !isSafari) {
        let e = 0,
          s = 0;
        document.addEventListener(
          "mousemove",
          (s) => {
            e = -15 * (s.clientX / window.innerWidth - 0.5);
          },
          !1
        );
        let t = () => {
          requestAnimationFrame(t),
            (s += 0.1 * (e - s)),
            (document.querySelector(
              ".section-panel"
            ).style.transform = `perspective(5000px) rotateY(${s}deg)`),
            (document.querySelector(
              ".section-title"
            ).style.transform = `perspective(5000px) rotateY(${s}deg)`),
            (document.querySelector(
              ".section"
            ).style.transform = `perspective(5000px) rotateY(${s}deg)`),
            (document.querySelector(
              ".section-roots"
            ).style.transform = `perspective(5000px) rotateY(${s}deg)`),
            (document.querySelector(
              ".section-artist"
            ).style.transform = `perspective(5000px) rotateY(${s}deg)`),
            (document.querySelector(
              ".section-debut"
            ).style.transform = `perspective(5000px) rotateY(${2 * s}deg)`),
            (document.querySelector(
              ".section-next"
            ).style.transform = `perspective(5000px) rotateY(${2 * s}deg)`);
        };
        t();
      }
      setTimeout(() => {
        let e = new Canvas({
          callback: (s) => {
            "loaded" == s.type &&
              e.event({
                type: "build",
              }),
              "builded" == s.type &&
                (document
                  .querySelector(".page-loading .loading-content")
                  .classList.add("js-out"),
                setTimeout(() => {
                  "#history" == location.hash &&
                    (isSP
                      ? TweenMax.to(document.scrollingElement, 1, {
                          scrollTop:
                            document.querySelector(location.hash).offsetTop -
                            window.innerHeight / 2,
                          ease: "Power3.easeOut",
                        })
                      : e.event({
                          type: "anchor",
                        })),
                    document.querySelector(".page").classList.add("js-active"),
                    document
                      .querySelector(".page-loading")
                      .classList.add("js-inactive");
                }, 1e3));
          },
        });
        e.event({
          type: "load",
        });
      }, 750);
    }
    setTimeout(() => {
      document.scrollingElement.scrollTop = 0;
    }, 0);
  },
  !1
),
  window.addEventListener("pageshow", function (e) {
    e.persisted && window.location.reload();
  });
